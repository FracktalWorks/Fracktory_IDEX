Start Gcode

;Sliced at: {day} {date} {time}
G21 ;metric values
M107
G28
M420 S1
G90 ;absolute positioning
G92 E0; reset extruder distance
G1 X-19 Y0 Z5 F5000 ;move nozzle up 5mm for safe homing
G29;ABL
M82 ;set extruder to absolute mode
M107 ;start with the fan off
G1 X-19 Y0 Z15.0 F5000 ;move the platform down 15mm
G92 E0 ;zero the extruded length
G1 F200 E3 ;extrude 3mm of feed stock
G1 F200 E0 ;Retract
G4 S2 ;Wait for material to fall
G1 F200 E3
G92 E0 ;zero the extruded length again

End gcode

;End GCode
M104 T0 S0 ;extruder heater off
M104 T1 S0 ;extruder heater off
M104 T2 S0 ;extruder heater off
M104 T3 S0 ;extruder heater off
M140 S0 ;heated bed heater off (if you have it)
G91 ;relative positioning
G1 E-1 F300 ;retract the filament a bit before lifting the nozzle, to release some of the pressure
G1 Z+0.5 E-5 X-19 Y-20 F3000 ;move Z up a bit and retract filament even more
G28;move X/Y to min endstops, so the head is out of the way
M84 ;steppers off
M107
G90 ;absolute positioning

Extruder 0 start gcode

M105
M109 S{material_initial_print_temperature, 0}
G92 E-{switch_extruder_retraction_amount}
G1 E0 F1000 ;Restore E position
G1 E{purge_distance} F20;defaultpurge
G92 E0
G4 S3
G1 E-{switch_extruder_retraction_amount} F1000
G92 E0
;switch_extruder_retraction_amount:{switch_extruder_retraction_amount}
;endTC"
G91
G1 X20 F3000
G1 X -20 
G1 X20
G1 X -20
G90

Extruder 1 start gcode

M105
M109 S{material_print_temperature, 1}
G92 E-{switch_extruder_retraction_amount}
G1 E0 F1000 ;Restore E position
G1 E{purge_distance} F20;defaultpurge
G92 E0
G4 S3
G1 E-{switch_extruder_retraction_amount} F1000
G92 E0
;switch_extruder_retraction_amount:{switch_extruder_retraction_amount}
;endTC"
G91
G1 X-20 F3000
G1 X20
G1 X-20
G1 X20
G90